<UserControl
    x:Class="MyShop.Views.Orders.InvoicePrintView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:orders="using:MyShop.Models.Orders"
    mc:Ignorable="d"
    Width="816"
    Height="1056"
    Background="White">

    <!-- A4 Size: 816x1056 pixels at 96 DPI (8.5" x 11") -->
    <Grid Padding="60">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Header -->
            <RowDefinition Height="Auto"/>
            <!-- Customer Info -->
            <RowDefinition Height="*"/>
            <!-- Items Table -->
            <RowDefinition Height="Auto"/>
            <!-- Footer/Totals -->
        </Grid.RowDefinitions>

        <!-- Header Section -->
        <StackPanel Grid.Row="0" Spacing="12" Margin="0,0,0,32">
            <TextBlock x:Name="ShopNameText"
                       FontSize="32"
                       FontWeight="Bold"
                       Foreground="Black"
                       HorizontalAlignment="Center"/>
            
            <Border Height="2" Background="Black" Margin="0,8"/>
            
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0">
                    <TextBlock Text="HÓA ĐƠN BÁN HÀNG"
                               FontSize="20"
                               FontWeight="SemiBold"
                               Foreground="Black"/>
                </StackPanel>
                
                <StackPanel Grid.Column="1" HorizontalAlignment="Right">
                    <TextBlock x:Name="OrderIdText"
                               FontSize="16"
                               FontWeight="SemiBold"
                               Foreground="Black"/>
                    <TextBlock x:Name="OrderDateText"
                               FontSize="14"
                               Foreground="Black"
                               Margin="0,4,0,0"/>
                </StackPanel>
            </Grid>
        </StackPanel>

        <!-- Customer Information Section -->
        <StackPanel Grid.Row="1" Spacing="8" Margin="0,0,0,24">
            <TextBlock Text="THÔNG TIN KHÁCH HÀNG"
                       FontSize="16"
                       FontWeight="SemiBold"
                       Foreground="Black"
                       Margin="0,0,0,8"/>
            
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="120"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <TextBlock Grid.Row="0" Grid.Column="0"
                           Text="Tên khách hàng:"
                           FontSize="14"
                           Foreground="Black"
                           Margin="0,0,0,6"/>
                <TextBlock Grid.Row="0" Grid.Column="1"
                           x:Name="CustomerNameText"
                           FontSize="14"
                           FontWeight="SemiBold"
                           Foreground="Black"
                           Margin="0,0,0,6"/>
                
                <TextBlock Grid.Row="1" Grid.Column="0"
                           Text="Số điện thoại:"
                           FontSize="14"
                           Foreground="Black"
                           Margin="0,0,0,6"/>
                <TextBlock Grid.Row="1" Grid.Column="1"
                           x:Name="CustomerPhoneText"
                           FontSize="14"
                           Foreground="Black"
                           Margin="0,0,0,6"/>
                
                <TextBlock Grid.Row="2" Grid.Column="0"
                           Text="Địa chỉ:"
                           FontSize="14"
                           Foreground="Black"/>
                <TextBlock Grid.Row="2" Grid.Column="1"
                           x:Name="CustomerAddressText"
                           FontSize="14"
                           Foreground="Black"
                           TextWrapping="Wrap"/>
            </Grid>
        </StackPanel>

        <!-- Items Table Section -->
        <StackPanel Grid.Row="2" Margin="0,0,0,24">
            <TextBlock Text="CHI TIẾT SẢN PHẨM"
                       FontSize="16"
                       FontWeight="SemiBold"
                       Foreground="Black"
                       Margin="0,0,0,12"/>
            
            <!-- Table Header -->
            <Border BorderBrush="Black" BorderThickness="0,0,0,2" Padding="0,0,0,8">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="100"/>
                        <ColumnDefinition Width="120"/>
                        <ColumnDefinition Width="120"/>
                    </Grid.ColumnDefinitions>
                    
                    <TextBlock Grid.Column="0"
                               Text="Sản phẩm"
                               FontSize="14"
                               FontWeight="SemiBold"
                               Foreground="Black"/>
                    <TextBlock Grid.Column="1"
                               Text="Số lượng"
                               FontSize="14"
                               FontWeight="SemiBold"
                               Foreground="Black"
                               TextAlignment="Center"/>
                    <TextBlock Grid.Column="2"
                               Text="Đơn giá"
                               FontSize="14"
                               FontWeight="SemiBold"
                               Foreground="Black"
                               TextAlignment="Right"/>
                    <TextBlock Grid.Column="3"
                               Text="Thành tiền"
                               FontSize="14"
                               FontWeight="SemiBold"
                               Foreground="Black"
                               TextAlignment="Right"/>
                </Grid>
            </Border>
            
            <!-- Items List -->
            <ItemsControl x:Name="ItemsListControl" Margin="0,8,0,0">
                <ItemsControl.ItemTemplate>
                    <DataTemplate x:DataType="orders:OrderItemDetail">
                        <Border BorderBrush="#E0E0E0" BorderThickness="0,0,0,1" Padding="0,12">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="120"/>
                                    <ColumnDefinition Width="120"/>
                                </Grid.ColumnDefinitions>
                                
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="{x:Bind ProductName}"
                                               FontSize="14"
                                               Foreground="Black"
                                               TextWrapping="Wrap"/>
                                    <TextBlock Text="{x:Bind ProductSku}"
                                               FontSize="12"
                                               Foreground="#666666"
                                               Margin="0,2,0,0"/>
                                </StackPanel>
                                
                                <TextBlock Grid.Column="1"
                                           Text="{x:Bind Quantity}"
                                           FontSize="14"
                                           Foreground="Black"
                                           TextAlignment="Center"
                                           VerticalAlignment="Center"/>
                                
                                <TextBlock Grid.Column="2"
                                           Text="{x:Bind FormattedUnitPrice}"
                                           FontSize="14"
                                           Foreground="Black"
                                           TextAlignment="Right"
                                           VerticalAlignment="Center"/>
                                
                                <TextBlock Grid.Column="3"
                                           Text="{x:Bind FormattedTotalPrice}"
                                           FontSize="14"
                                           FontWeight="SemiBold"
                                           Foreground="Black"
                                           TextAlignment="Right"
                                           VerticalAlignment="Center"/>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </StackPanel>

        <!-- Footer/Totals Section -->
        <StackPanel Grid.Row="3" Spacing="12">
            <Border Height="2" Background="Black"/>
            
            <!-- Totals -->
            <Grid Margin="0,12,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="200"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <!-- Subtotal -->
                <TextBlock Grid.Row="0" Grid.Column="0"
                           Text="Tạm tính:"
                           FontSize="14"
                           Foreground="Black"
                           HorizontalAlignment="Right"
                           Margin="0,0,16,8"/>
                <TextBlock Grid.Row="0" Grid.Column="1"
                           x:Name="SubtotalText"
                           FontSize="14"
                           Foreground="Black"
                           TextAlignment="Right"
                           Margin="0,0,0,8"/>
                
                <!-- Discount -->
                <TextBlock Grid.Row="1" Grid.Column="0"
                           x:Name="DiscountLabelText"
                           FontSize="14"
                           Foreground="Black"
                           HorizontalAlignment="Right"
                           Margin="0,0,16,8"/>
                <TextBlock Grid.Row="1" Grid.Column="1"
                           x:Name="DiscountText"
                           FontSize="14"
                           Foreground="Black"
                           TextAlignment="Right"
                           Margin="0,0,0,8"/>
                
                <!-- Final Total -->
                <TextBlock Grid.Row="2" Grid.Column="0"
                           Text="TỔNG CỘNG:"
                           FontSize="16"
                           FontWeight="Bold"
                           Foreground="Black"
                           HorizontalAlignment="Right"
                           Margin="0,8,16,0"/>
                <TextBlock Grid.Row="2" Grid.Column="1"
                           x:Name="FinalTotalText"
                           FontSize="16"
                           FontWeight="Bold"
                           Foreground="Black"
                           TextAlignment="Right"
                           Margin="0,8,0,0"/>
            </Grid>
            
            <!-- Thank You Note -->
            <TextBlock Text="Cảm ơn quý khách đã mua hàng!"
                       FontSize="14"
                       FontStyle="Italic"
                       Foreground="Black"
                       HorizontalAlignment="Center"
                       Margin="0,24,0,0"/>
        </StackPanel>
    </Grid>
</UserControl>
